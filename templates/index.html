<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Job Recommender System</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS"
          crossorigin="anonymous">
    <link rel="stylesheet" href="css/table.css">
    <link rel="stylesheet" href="css/styles.css">
</head>

<body>
<h1>Job Recommender System</h1>
<br>
<br>
<h3>
  Welcome to the Job Recommender System!
</h3>
<h1> ###PLEASE GIVE SOME SUGGESTIONS ABOUT WHAT SHOULD WE WRITE HERE.</h1>
<a href="https://gradstudies.engineering.utoronto.ca/professional-degrees/emphasis-in-analytics/">Click here to see more details about elective courses at Emphasis in Analytics provided by University of Toronto</a>
<link href="https://netdna.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" rel="stylesheet" />
<script src="https://netdna.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script src="https://cdn.rawgit.com/crlcu/multiselect/v2.5.1/dist/js/multiselect.min.js"></script>
<div class="float-container">
    <div class="container">
        <h4>Select Courses</h4>
        <p>Use <i class="glyphicon glyphicon-backward"></i>  button below to RESET</p>
        <div class="row">
            <div class="col-xs-5">

                <select name="from[]" id="multiselect" class="form-control" size="8" multiple="multiple">
                    <option value="APS502H" title= "APS 502H Financial Engineering">APS 502H</option>
                    <option value="APS1005H" title= "APS 1005H Operations Research for Engineering Management">APS 1005H</option>
                    <option value="APS1022H" title= "APS 1022H Financial Engineering II">APS 1022H</option>
                    <option value="APS1040H" title= "APS 1040H Quality Control for Engineering Management">APS 1040H</option>
                    <option value="APS1050H" title= "APS 1050H Blockchain Technologies And Cryptocurrencies">APS 1050H</option>
                    <option value="APS1051H" title= "APS 1051H Portfolio Management Praxis Under Real Market Constraint">APS 1051H</option>
                    <option value="APS1052H" title= "APS 1052H A.I. in Finance">APS 1052H</option>
                    <option value="APS1080H" title= "APS 1080H Introduction to Reinforcement Learning">APS 1080H</option>
                    <option value="CHE507H" title= "CHE 507H Data-based Modelling for Prediction and Control">CHE 507H</option>
                    <option value="CHE1148H" title= "CHE 1148H Process Data Analytics">CHE 1148H</option>
                    <option value="CHE1434H" title= "CHE 1434H Six Sigma for Chemical Processes">CHE 1434H</option>
                    <option value="CEM1002H" title= "CEM 1002H Empirical Study of Cities">CEM 1002H</option>
                    <option value="ECE1778H" title= "ECE 1778H Creative Applications for Mobile Devices">ECE 1778H</option>
                    <option value="ECE1779H" title= "ECE 1779H Introduction to Cloud Computing (ECE students only)">ECE 1779H</option>
                    <option value="MIE1413H" title= "MIE 1413H Statistical Models in Empirical Research">MIE 1413H</option>
                    <option value="MIE1501H" title= "MIE 1501H Knowledge Modelling and Management">MIE 1501H</option>
                    <option value="MIE1512H" title= "MIE 1512H Data Analytics">MIE 1512H</option>
                    <option value="MIE1513H" title= "MIE 1513H Decision Support Systems">MIE 1513H</option>
                    <option value="MIE1517H" title= "MIE 1517H Introduction to Deep Learning">MIE 1517H</option>
                    <option value="MIE1621H" title= "MIE 1621H NonÂ­Linear Optimization">MIE 1621H</option>
                    <option value="MIE1622H" title= "MIE 1622H Computational Finance and Risk Management">MIE 1622H</option>
                    <option value="MIE1628H" title= "MIE 1628H Cloud-based Data Analytics (formerly Big Data Science)">MIE 1628H</option>
                    <option value="MSE1063H" title= "MSE 1063H Application of Artificial Intelligence in Process Metallurgy">MSE 1063H</option>
                </select>
            </div>

            <div class="col-xs-2">

                <button type="button" id="multiselect_rightAll" class="btn btn-block"><i class="glyphicon glyphicon-forward"></i></button>
                <button type="button" id="multiselect_rightSelected" class="btn btn-block"><i class="glyphicon glyphicon-chevron-right"></i></button>
                <button type="button" id="multiselect_leftSelected" class="btn btn-block"><i class="glyphicon glyphicon-chevron-left"></i></button>
                <button type="button" id="multiselect_leftAll" class="btn btn-block"><i class="glyphicon glyphicon-backward"></i></button>
            </div>

            <div class="col-xs-5">
                <select name="to[]" id="multiselect_to" class="form-control" size="8" multiple="multiple"></select>
            </div>
        </div>

    </div>
</div>
<br>
<div class="float-container">
    <div class="container">
        <input type="submit" value="Pop up skills based on courses" onclick="findSkills()" />
    </div>
</div>
<br>
<br>
<div class="float-container">
    <div class="container">
        <h4>Select Skills</h4>
        <p>Use <i class="glyphicon glyphicon-backward"></i>  button below to RESET</p>
        <div class="row">
            <div class="col-xs-5">

                <select name="from[]" id="multiselect2" class="form-control" size="8" multiple="multiple">
                    <option value="ampl">AMPL</option>
                    <option value="android">Android</option>
                    <option value="aws">AWS</option>
                    <option value="azure">Azure</option>
                    <option value="c">C</option>
                    <option value="c++">C++</option>
                    <option value="cloud platform">Cloud Platform</option>
                    <option value="excel">Excel</option>
                    <option value="hadoop">Hadoop</option>
                    <option value="ios">IOS</option>
                    <option value="javascript">Javascript</option>
                    <option value="keras">Keras</option>
                    <option value="matlab">MATLAB</option>
                    <option value="minitab">Minitab</option>
                    <option value="python">Python</option>
                    <option value="r">R</option>
                    <option value="rapidminer">RapidMiner</option>
                    <option value="rdf">RDF</option>
                    <option value="sas">SAS</option>
                    <option value="spark">Spark</option>
                    <option value="sparql">SPARQL</option>
                    <option value="sql">SQL</option>
                    <option value="tensorflow">TensorFlow</option>
                    <option value="truffle framework">Truffle Framework</option>
                    <option value="vba">VB</option>
                    <option value="vba">VBA</option>
                </select>
            </div>

            <div class="col-xs-2">

                <button type="button" id="multiselect2_rightAll" class="btn btn-block"><i class="glyphicon glyphicon-forward"></i></button>
                <button type="button" id="multiselect2_rightSelected" class="btn btn-block"><i class="glyphicon glyphicon-chevron-right"></i></button>
                <button type="button" id="multiselect2_leftSelected" class="btn btn-block"><i class="glyphicon glyphicon-chevron-left"></i></button>
                <button type="button" id="multiselect2_leftAll" class="btn btn-block"><i class="glyphicon glyphicon-backward"></i></button>
            </div>

            <div class="col-xs-5">
                <select name="to[]" id="multiselect2_to" class="form-control" size="8" multiple="multiple"></select>
            </div>
        </div>

    </div>
</div>
<br>
        <div class="container">
            <input type="submit" value="Recommend Job Types" onclick="myPred()" />
            <div class="show_res" id="res"></div>
        </div>
<br>
<div class="float-container">
    <div class="container">
        <input type="submit" value="Search based on titles" onclick="searchByTitles()" />
    </div>
    <br>

    <br>
    <div class="container">
        <input type="submit" value="Clear filters" onclick="clearFilter()" />
    </div>
</div>
<div class="container-fluid">
    <main class="row">
        <div class="col">
            <h4>Select number of record to display in each page</h4>
            <div class="form-group">
                <select class  ="form-control" name="state" id="maxRows">
                    <option selected hidden>Choose here</option>
                    <option value="1000">Show ALL Rows</option>
                    <option value="5">5</option>
                    <option value="10">10</option>
                    <option value="20">20</option>
                    <option value="100">100</option>
                </select>
            </div>
            <div id="table-container" align="center">
            <table>
                <h1>
                    <!--Displaying the converted table-->
                    {% for table in tables %}
                    <h2>{{titles[loop.index]}}</h2>
                    {{ table|safe }}
                    {% endfor %}
                </h1>
            </table>
            </div>
            <!--		Start Pagination -->
            <div class='pagination-container' >
                <nav>
                    <ul class="pagination">

                        <li data-page="prev" >
                            <span> < <span class="sr-only">(current)</span></span>
                        </li>
                        <!--	Here the JS Function Will Add the Rows -->
                        <li data-page="next" id="prev">
                            <span> > <span class="sr-only">(current)</span></span>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>
    </main>
    <footer class="row">
        <div class="col">
            <hr>
            <p class="text-right">MIE 1624 group 21</p>
        </div>
    </footer>
</div>

<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.2.1/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.10.19/js/dataTables.bootstrap4.min.js"></script>
<!--<script src="static/js/multi_select.js"></script>-->
<!--<script src="static/js/skills.js"></script>-->
<!--<script src="static/js/jobs.js"></script>-->
<!--<script src="static/js/pagination.js"></script>-->
<script>
    function myPred() {
    var box, option, skills,   txtValue, txtValues;
    skills = ""
    box = document.getElementById("multiselect2_to");
    option = box.getElementsByTagName("option")
    for (var i=0; i<option.length; i++) {
        skills = skills + (option[i].value);
    }
    $.ajax({
    url: "/pred",
    type: "POST",
    data: {skills:skills}
    }).done(function(response) {
    var html= "<br><br><br><p> <b> Top Career Choices : <b><p><ul>";
        response =response.result;
        $.each(response,function(key,val){
        html+=val
        });
        html +="</ul><br>";
        $(".show_res").html(html);
        });
        };
</script>

<script>
    // https://crlcu.github.io/multiselect/
if ("undefined" == typeof jQuery) throw new Error("multiselect requires jQuery");
! function(t) {
    "use strict";
    var e = t.fn.jquery.split(" ")[0].split(".");
    if (e[0] < 2 && e[1] < 7) throw new Error("multiselect requires jQuery version 1.7 or higher")
}(jQuery),
function(t) {
    "function" == typeof define && define.amd ? define(["jquery"], t) : t(jQuery)
}(function(t) {
   // "use strict";
    var e = function(t) {
        function e(e, o) {
            var i = e.prop("id");
            this.$left = e, this.$right = t(t(o.right).length ? o.right : "#" + i + "_to"), this.actions = {
                $leftAll: t(t(o.leftAll).length ? o.leftAll : "#" + i + "_leftAll"),
                $rightAll: t(t(o.rightAll).length ? o.rightAll : "#" + i + "_rightAll"),
                $leftSelected: t(t(o.leftSelected).length ? o.leftSelected : "#" + i + "_leftSelected"),
                $rightSelected: t(t(o.rightSelected).length ? o.rightSelected : "#" + i + "_rightSelected"),
                $undo: t(t(o.undo).length ? o.undo : "#" + i + "_undo"),
                $redo: t(t(o.redo).length ? o.redo : "#" + i + "_redo")
            }, delete o.leftAll, delete o.leftSelected, delete o.right, delete o.rightAll, delete o.rightSelected, this.options = {
                keepRenderingSort: o.keepRenderingSort,
                submitAllLeft: void 0 !== o.submitAllLeft ? o.submitAllLeft : !0,
                submitAllRight: void 0 !== o.submitAllRight ? o.submitAllRight : !0,
                search: o.search,
                ignoreDisabled: void 0 !== o.ignoreDisabled ? o.ignoreDisabled : !1
            }, delete o.keepRenderingSort, o.submitAllLeft, o.submitAllRight, o.search, o.ignoreDisabled, this.callbacks = o, this.init()
        }
        return e.prototype = {
            init: function() {
                var e = this;
                e.undoStack = [], e.redoStack = [], (e.$left.find("optgroup").length || e.$right.find("optgroup").length) && (e.callbacks.sort = !1, e.options.search = !1), e.options.keepRenderingSort && (e.skipInitSort = !0, e.callbacks.sort !== !1 && (e.callbacks.sort = function(e, o) {
                    return t(e).data("position") > t(o).data("position") ? 1 : -1
                }), e.$left.find("option").each(function(e, o) {
                    t(o).data("position", e)
                }), e.$right.find("option").each(function(e, o) {
                    t(o).data("position", e)
                })), "function" == typeof e.callbacks.startUp && e.callbacks.startUp(e.$left, e.$right), e.skipInitSort || "function" != typeof e.callbacks.sort || (e.$left.mSort(e.callbacks.sort), e.$right.each(function(o, i) {
                    t(i).mSort(e.callbacks.sort)
                })), e.options.search && e.options.search.left && (e.options.search.$left = t(e.options.search.left), e.$left.before(e.options.search.$left)), e.options.search && e.options.search.right && (e.options.search.$right = t(e.options.search.right), e.$right.before(t(e.options.search.$right))), e.events()
            },
            events: function() {
                var e = this;
                e.options.search && e.options.search.$left && e.options.search.$left.on("keyup", function(t) {
                    if (this.value) {
                        e.$left.find('option:search("' + this.value + '")').mShow(), e.$left.find('option:not(:search("' + this.value + '"))').mHide()
                    } else e.$left.find("option").mShow()
                }), e.options.search && e.options.search.$right && e.options.search.$right.on("keyup", function(t) {
                    if (this.value) {
                        e.$right.find('option:search("' + this.value + '")').mShow(), e.$right.find('option:not(:search("' + this.value + '"))').mHide()
                    } else e.$right.find("option").mShow()
                }), e.$right.closest("form").on("submit", function(t) {
                    e.$left.find("option").prop("selected", e.options.submitAllLeft), e.$right.find("option").prop("selected", e.options.submitAllRight)
                }), e.$left.on("dblclick", "option", function(t) {
                    t.preventDefault();
                    var o = e.$left.find("option:selected");
                    o.length && e.moveToRight(o, t)
                }), e.$left.on("keypress", function(t) {
                    if (13 === t.keyCode) {
                        t.preventDefault();
                        var o = e.$left.find("option:selected");
                        o.length && e.moveToRight(o, t)
                    }
                }), e.$right.on("dblclick", "option", function(t) {
                    t.preventDefault();
                    var o = e.$right.find("option:selected");
                    o.length && e.moveToLeft(o, t)
                }), e.$right.on("keydown", function(t) {
                    if (8 === t.keyCode || 46 === t.keyCode) {
                        t.preventDefault();
                        var o = e.$right.find("option:selected");
                        o.length && e.moveToLeft(o, t)
                    }
                }), (navigator.userAgent.match(/MSIE/i) || navigator.userAgent.indexOf("Trident/") > 0 || navigator.userAgent.indexOf("Edge/") > 0) && (e.$left.dblclick(function(t) {
                    e.actions.$rightSelected.trigger("click")
                }), e.$right.dblclick(function(t) {
                    e.actions.$leftSelected.trigger("click")
                })), e.actions.$rightSelected.on("click", function(o) {
                    o.preventDefault();
                    var i = e.$left.find("option:selected");
                    i.length && e.moveToRight(i, o), t(this).blur()
                }), e.actions.$leftSelected.on("click", function(o) {
                    o.preventDefault();
                    var i = e.$right.find("option:selected");
                    i.length && e.moveToLeft(i, o), t(this).blur()
                }), e.actions.$rightAll.on("click", function(o) {
                    o.preventDefault();
                    var i = e.$left.children(":not(span):not(.hidden)");
                    i.length && e.moveToRight(i, o), t(this).blur()
                }), e.actions.$leftAll.on("click", function(o) {
                    o.preventDefault();
                    var i = e.$right.children(":not(span):not(.hidden)");
                    i.length && e.moveToLeft(i, o), t(this).blur()
                }), e.actions.$undo.on("click", function(t) {
                    t.preventDefault(), e.undo(t)
                }), e.actions.$redo.on("click", function(t) {
                    t.preventDefault(), e.redo(t)
                })
            },
            moveToRight: function(e, o, i, n) {
                var r = this;
                return "function" == typeof r.callbacks.moveToRight ? r.callbacks.moveToRight(r, e, o, i, n) : "function" != typeof r.callbacks.beforeMoveToRight || i || r.callbacks.beforeMoveToRight(r.$left, r.$right, e) ? (e.each(function(e, o) {
                    var i = t(o);
                    if (r.options.ignoreDisabled && i.is(":disabled")) return !0;
                    if (i.parent().is("optgroup")) {
                        var n = i.parent(),
                            l = r.$right.find('optgroup[label="' + n.prop("label") + '"]');
                        l.length || (l = n.clone(), l.children().remove()), i = l.append(i), n.removeIfEmpty()
                    }
                    r.$right.move(i)
                }), n || (r.undoStack.push(["right", e]), r.redoStack = []), "function" != typeof r.callbacks.sort || i || r.$right.mSort(r.callbacks.sort), "function" != typeof r.callbacks.afterMoveToRight || i || r.callbacks.afterMoveToRight(r.$left, r.$right, e), r) : !1
            },
            moveToLeft: function(e, o, i, n) {
                var r = this;
                return "function" == typeof r.callbacks.moveToLeft ? r.callbacks.moveToLeft(r, e, o, i, n) : "function" != typeof r.callbacks.beforeMoveToLeft || i || r.callbacks.beforeMoveToLeft(r.$left, r.$right, e) ? (e.each(function(e, o) {
                    var i = t(o);
                    if (i.is("optgroup") || i.parent().is("optgroup")) {
                        var n = i.is("optgroup") ? i : i.parent(),
                            l = r.$left.find('optgroup[label="' + n.prop("label") + '"]');
                        l.length || (l = n.clone(), l.children().remove()), i = l.append(i.is("optgroup") ? i.children() : i), n.removeIfEmpty()
                    }
                    r.$left.move(i)
                }), n || (r.undoStack.push(["left", e]), r.redoStack = []), "function" != typeof r.callbacks.sort || i || r.$left.mSort(r.callbacks.sort), "function" != typeof r.callbacks.afterMoveToLeft || i || r.callbacks.afterMoveToLeft(r.$left, r.$right, e), r) : !1
            },
            undo: function(t) {
                var e = this,
                    o = e.undoStack.pop();
                if (o) switch (e.redoStack.push(o), o[0]) {
                    case "left":
                        e.moveToRight(o[1], t, !1, !0);
                        break;
                    case "right":
                        e.moveToLeft(o[1], t, !1, !0)
                }
            },
            redo: function(t) {
                var e = this,
                    o = e.redoStack.pop();
                if (o) switch (e.undoStack.push(o), o[0]) {
                    case "left":
                        e.moveToLeft(o[1], t, !1, !0);
                        break;
                    case "right":
                        e.moveToRight(o[1], t, !1, !0)
                }
            }
        }, e
    }(t);
    t.multiselect = {
        defaults: {
            startUp: function(t, e) {
                e.find("option").each(function(e, o) {
                    var i = t.find('option[value="' + o.value + '"]'),
                        n = i.parent();
                    i.remove(), "OPTGROUP" == n.prop("tagName") && n.removeIfEmpty()
                })
            },
            beforeMoveToRight: function(t, e, o) {
                return !0
            },
            afterMoveToRight: function(t, e, o) {},
            beforeMoveToLeft: function(t, e, o) {
                return !0
            },
            afterMoveToLeft: function(t, e, o) {},
            sort: function(t, e) {
                return "NA" == t.innerHTML ? 1 : "NA" == e.innerHTML ? -1 : t.innerHTML > e.innerHTML ? 1 : -1
            }
        }
    };
    var o = window.navigator.userAgent,
        i = o.indexOf("MSIE ") + o.indexOf("Trident/") + o.indexOf("Edge/") > -3;
    t.fn.multiselect = function(o) {
        return this.each(function() {
            var i = t(this),
                n = i.data("crlcu.multiselect"),
                r = t.extend({}, t.multiselect.defaults, i.data(), "object" == typeof o && o);
            n || i.data("crlcu.multiselect", n = new e(i, r))
        })
    }, t.fn.move = function(t) {
        return this.append(t).find("option").prop("selected", !1), this
    }, t.fn.removeIfEmpty = function() {
        return this.children().length || this.remove(), this
    }, t.fn.mShow = function() {
        return this.removeClass("hidden").show(), i && this.each(function(e, o) {
            t(o).parent().is("span") && t(o).parent().replaceWith(o), t(o).show()
        }), this
    }, t.fn.mHide = function() {
        return this.addClass("hidden").hide(), i && this.each(function(e, o) {
            t(o).parent().is("span") || t(o).wrap("<span>").hide()
        }), this
    }, t.fn.mSort = function(t) {
        return this.find("option").sort(t).appendTo(this), this
    }, t.expr[":"].search = function(e, o, i) {
        return t(e).text().toUpperCase().indexOf(i[3].toUpperCase()) >= 0
    }
});

jQuery(document).ready(function($) {
    $('#multiselect').multiselect();
    $('#multiselect2').multiselect();
});
</script>
<script>
    function findSkills() {
    const map = new Map();

    map.set("APS502H", [ "excel","matlab"]);
    map.set("APS1005H", [ "excel","ampl"]);
    map.set("APS1022H", [ "excel","matlab"]);
    map.set("APS1040H", [ "excel","minitab","python"]);
    map.set("APS1050H", [ "javascript","truffle framework"]);
    map.set("APS1051H", [ "python","matlab"]);
    map.set("APS1052H", [ "python","keras","tensorflow"]);
    map.set("APS1080H", [ "python"]);
    map.set("CHE507H", [ "matlab"]);
    map.set("CHE1148H", [ "python","spark"]);
    map.set("CHE1434H", [ "minitab"]);
    map.set("CEM1002H", [ "rapidminer"]);
    map.set("ECE1778H", [ "android","ios"]);
    map.set("ECE1779H", [ "aws", "cloud platform"]);
    map.set("MIE1413H", [ "r","sas"]);
    map.set("MIE1501H", [ "rdf","sparql"]);
    map.set("MIE1512H", [ "sql"]);
    map.set("MIE1513H", [ "python"]);
    map.set("MIE1517H", [ "python","tensorflow"]);
    map.set("MIE1621H", [ "python"]);
    map.set("MIE1622H", [ "excel","matlab","vba","r","c","c++","python"]);
    map.set("MIE1628H", [ "python","hadoop","spark","azure","aws","cloud platform"]);
    map.set("MSE1063H", [ "python","r"]);
    var input, option, courses, skills, skillbox, remaining, des, toUpdate;
    skills = new Set();
    input = document.getElementById("multiselect_to");
    option = input.getElementsByTagName("option");
    if (option.length <= 0) {
        return;
    }

    for (var i=0; i<option.length; i++) {
        var courseVal = option[i].value;
        var courseSkill = map.get(courseVal);
        courseSkill.forEach(skills.add, skills);
    }
    skillbox = document.getElementById("multiselect2");
    remaining = skillbox.getElementsByTagName("option");
    toUpdate = []
    for (var i=0; i<remaining.length; i++){
        var skillName = remaining[i].value;
        if (skills.has(skillName)){
            toUpdate.push(remaining[i])
        }
    }

    toUpdate.forEach(update)
}
function update(item){
   $("#multiselect2_to").append(item);
}
</script>
<script>
    getPagination('#table-container');

function getPagination(table) {
  var lastPage = 1;

  $('#maxRows')
    .on('change', function(evt) {
      //$('.paginationprev').html('');						// reset pagination

     lastPage = 1;
      $('.pagination')
        .find('li')
        .slice(1, -1)
        .remove();
      var trnum = 0; // reset tr counter
      var display = 0
      var total = 0
      var maxRows = parseInt($(this).val()); // get Max Rows from select option

      if (maxRows == 1000) {
        $('.pagination').hide();
      } else {
        $('.pagination').show();
      }

      $(table + ' tr:gt(0)').each(function() {
        // each TR in  table and not the header
        trnum++; // Start Counter
        if (display >= maxRows) {
          if ((this).style.getPropertyValue('color') != "black"){
              total ++
          }
          $(this).hide(); // fade it out
          //this.style.display = "none"
        }
        if (display < maxRows) {
            if ((this).style.getPropertyValue('color') == "black"){
                $(this).hide(); // fade it out
            } else{
                $(this).show();
                display ++
                total ++
            }
        } // else fade in Important in case if it ..
      }); //  was fade out to fade it in
      if (total > maxRows) {
        // if tr total rows gt max rows option
        var pagenum = Math.ceil(total / maxRows); // ceil total(rows/maxrows) to get ..
        //	numbers of pages
        for (var i = 1; i <= pagenum; ) {
          // for each page append pagination li
          $('.pagination #prev')
            .before(
              '<li data-page="' +
                i +
                '">\
								  <span>' +
                i++ +
                '<span class="sr-only">(current)</span></span>\
								</li>'
            )
            .show();
        } // end for i
      } // end if row count > max rows
      $('.pagination [data-page="1"]').addClass('active'); // add active class to the first li
      $('.pagination li').on('click', function(evt) {
        // on click each page
        evt.stopImmediatePropagation();
        evt.preventDefault();
        var pageNum = $(this).attr('data-page'); // get it's number

        var maxRows = parseInt($('#maxRows').val()); // get Max Rows from select option

        if (pageNum == 'prev') {
          if (lastPage == 1) {
            return;
          }
          pageNum = --lastPage;
        }
        if (pageNum == 'next') {
          if (lastPage == $('.pagination li').length - 2) {
            return;
          }
          pageNum = ++lastPage;
        }

        lastPage = pageNum;
        var trIndex = 0; // reset tr counter
        $('.pagination li').removeClass('active'); // remove active class from all li
        $('.pagination [data-page="' + lastPage + '"]').addClass('active'); // add active class to the clicked
        // $(this).addClass('active');					// add active class to the clicked
	  	limitPagging();
        $(table + ' tr:gt(0)').each(function() {
          // each tr in table not the header

          // if tr index gt maxRows*pageNum or lt maxRows*pageNum-maxRows fade if out
          if (
            trIndex > maxRows * pageNum ||
            trIndex <= maxRows * pageNum - maxRows
          ) {
            if ((this).style.getPropertyValue('color') != "black"){
                trIndex ++;
            }
            $(this).hide();
          } else {
            if ((this).style.getPropertyValue('color') != "black"){
                $(this).show();
                trIndex ++;
            } else {
                $(this).hide();
            }

          } //else fade in
        }); // end of for each tr in table
      }); // end of on click pagination list
	  limitPagging();
    })
    .val(1000)
    .change();

  // END OF PAGINATION
}

function limitPagging(){
	// alert($('.pagination li').length)

	if($('.pagination li').length > 7 ){
			if( $('.pagination li.active').attr('data-page') <= 3 ){
			$('.pagination li:gt(5)').hide();
			$('.pagination li:lt(5)').show();
			$('.pagination [data-page="next"]').show();
		}if ($('.pagination li.active').attr('data-page') > 3){
			$('.pagination li:gt(0)').hide();
			$('.pagination [data-page="next"]').show();
			for( let i = ( parseInt($('.pagination li.active').attr('data-page'))  -2 )  ; i <= ( parseInt($('.pagination li.active').attr('data-page'))  + 2 ) ; i++ ){
				$('.pagination [data-page="'+i+'"]').show();

			}

		}
	}
}

$(function() {
  // Just to append id number for each row
  $('table tr:eq(0)').prepend('<th> ID </th>');

  var id = 0;

  $('table tr:gt(0)').each(function() {
    id++;
    $(this).prepend('<td>' + id + '</td>');
  });
});


</script>
<script>
    function searchByTitles() {
    var raw, keywords, regexFormat, table, tbody, tr, td, i, txtValue, txtValues, display;
    keywords = []
    raw = document.getElementById('res').innerText;

    if (raw.includes('Database Engineer')){
        keywords.push("database");
        keywords.push("dba");
    }
    if (raw.includes('Data Engineer')){
        keywords.push("data engineer");
    }
    if (raw.includes('Software Engineer')){
        keywords.push("software");
    }
    if (raw.includes('Machine Learning')){
        keywords.push("machine learning");
        keywords.push("research");
    }
    if (raw.includes('Product Manager')){
        keywords.push("product");
        keywords.push("program manager");
        keywords.push("project manager");
        keywords.push("advocacy");
        keywords.push("support");
    }
    if(raw.includes('Statistician')){
        keywords.push("statistic");
    }
    if(raw.includes('Data Analyst')){
        keywords.push("data analyst");
    }
    if(raw.includes('Business Analyst')){
        keywords.push("business");
    }

    if (keywords.size == 0){
        return
    }
    regexFormat = "^.*(" + keywords.join("|") + ")+.*$"
    table = document.getElementById("table-container-table");
    tbody = table.getElementsByTagName("tbody")[0];
    tr = tbody.getElementsByTagName("tr");

    for (i = 0; i < tr.length; i++) {
      display = "none";
      td = tr[i].getElementsByTagName("td")[1];
      if (td) {
        txtValue = (td.textContent || td.innerText).toLowerCase();
        if (txtValue.match(regexFormat)){
            display = ""
        }
        tr[i].style.display = display;
        if (display == "none"){
            tr[i].style.color = "black";
            $(tr[i]).hide()
        }
      }
    }
    $(document).ready(()=>{
        $("#maxRows").val('1000');
    });
}

function clearFilter(){
    var table, tbody, tr;
    table = document.getElementById("table-container-table");
    tbody = table.getElementsByTagName("tbody")[0];
    tr = tbody.getElementsByTagName("tr");

    for (i = 0; i < tr.length; i++) {
        tr[i].style.display = "display";
        $(tr[i]).show()
     }
    $(document).ready(()=>{
        $("#maxRows").val('1000');
    });
}
</script>

<script>
    RegExp.escape = function(r) {
        return r.replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&")
    },
    function() {
        "use strict";
        var r;
        (r = "undefined" != typeof jQuery && jQuery ? jQuery : {}).csv = {
            defaults: {
                separator: ",",
                delimiter: '"',
                headers: !0
            },
            hooks: {
                castToScalar: function(r, e) {
                    if (isNaN(r)) return r;
                    if (/\./.test(r)) return parseFloat(r);
                    var a = parseInt(r);
                    return isNaN(a) ? null : a
                }
            },
            parsers: {
                parse: function(r, e) {
                    var a = e.separator,
                        t = e.delimiter;
                    e.state.rowNum || (e.state.rowNum = 1), e.state.colNum || (e.state.colNum = 1);
                    var s = [],
                        o = [],
                        n = 0,
                        i = "",
                        l = !1;

                    function c() {
                        if (n = 0, i = "", e.start && e.state.rowNum < e.start) return o = [], e.state.rowNum++, void(e.state.colNum = 1);
                        if (void 0 === e.onParseEntry) s.push(o);
                        else {
                            var r = e.onParseEntry(o, e.state);
                            !1 !== r && s.push(r)
                        }
                        o = [], e.end && e.state.rowNum >= e.end && (l = !0), e.state.rowNum++, e.state.colNum = 1
                    }

                    function u() {
                        if (void 0 === e.onParseValue) o.push(i);
                        else {
                            var r = e.onParseValue(i, e.state);
                            !1 !== r && o.push(r)
                        }
                        i = "", n = 0, e.state.colNum++
                    }
                    var f = RegExp.escape(a),
                        d = RegExp.escape(t),
                        m = /(D|S|\r\n|\n|\r|[^DS\r\n]+)/,
                        p = m.source;
                    return p = (p = p.replace(/S/g, f)).replace(/D/g, d), m = new RegExp(p, "gm"), r.replace(m, function(r) {
                        if (!l) switch (n) {
                            case 0:
                                if (r === a) {
                                    i += "", u();
                                    break
                                }
                                if (r === t) {
                                    n = 1;
                                    break
                                }
                                if (/^(\r\n|\n|\r)$/.test(r)) {
                                    u(), c();
                                    break
                                }
                                i += r, n = 3;
                                break;
                            case 1:
                                if (r === t) {
                                    n = 2;
                                    break
                                }
                                i += r, n = 1;
                                break;
                            case 2:
                                if (r === t) {
                                    i += r, n = 1;
                                    break
                                }
                                if (r === a) {
                                    u();
                                    break
                                }
                                if (/^(\r\n|\n|\r)$/.test(r)) {
                                    u(), c();
                                    break
                                }
                                throw new Error("CSVDataError: Illegal State [Row:" + e.state.rowNum + "][Col:" + e.state.colNum + "]");
                            case 3:
                                if (r === a) {
                                    u();
                                    break
                                }
                                if (/^(\r\n|\n|\r)$/.test(r)) {
                                    u(), c();
                                    break
                                }
                                if (r === t) throw new Error("CSVDataError: Illegal Quote [Row:" + e.state.rowNum + "][Col:" + e.state.colNum + "]");
                                throw new Error("CSVDataError: Illegal Data [Row:" + e.state.rowNum + "][Col:" + e.state.colNum + "]");
                            default:
                                throw new Error("CSVDataError: Unknown State [Row:" + e.state.rowNum + "][Col:" + e.state.colNum + "]")
                        }
                    }), 0 !== o.length && (u(), c()), s
                },
                splitLines: function(e, a) {
                    if (e) {
                        var t = (a = a || {}).separator || r.csv.defaults.separator,
                            s = a.delimiter || r.csv.defaults.delimiter;
                        a.state = a.state || {}, a.state.rowNum || (a.state.rowNum = 1);
                        var o = [],
                            n = 0,
                            i = "",
                            l = !1,
                            c = RegExp.escape(t),
                            u = RegExp.escape(s),
                            f = /(D|S|\n|\r|[^DS\r\n]+)/,
                            d = f.source;
                        return d = (d = d.replace(/S/g, c)).replace(/D/g, u), f = new RegExp(d, "gm"), e.replace(f, function(r) {
                            if (!l) switch (n) {
                                case 0:
                                    if (r === t) {
                                        i += r, n = 0;
                                        break
                                    }
                                    if (r === s) {
                                        i += r, n = 1;
                                        break
                                    }
                                    if ("\n" === r) {
                                        m();
                                        break
                                    }
                                    if (/^\r$/.test(r)) break;
                                    i += r, n = 3;
                                    break;
                                case 1:
                                    if (r === s) {
                                        i += r, n = 2;
                                        break
                                    }
                                    i += r, n = 1;
                                    break;
                                case 2:
                                    var e = i.substr(i.length - 1);
                                    if (r === s && e === s) {
                                        i += r, n = 1;
                                        break
                                    }
                                    if (r === t) {
                                        i += r, n = 0;
                                        break
                                    }
                                    if ("\n" === r) {
                                        m();
                                        break
                                    }
                                    if ("\r" === r) break;
                                    throw new Error("CSVDataError: Illegal state [Row:" + a.state.rowNum + "]");
                                case 3:
                                    if (r === t) {
                                        i += r, n = 0;
                                        break
                                    }
                                    if ("\n" === r) {
                                        m();
                                        break
                                    }
                                    if ("\r" === r) break;
                                    if (r === s) throw new Error("CSVDataError: Illegal quote [Row:" + a.state.rowNum + "]");
                                    throw new Error("CSVDataError: Illegal state [Row:" + a.state.rowNum + "]");
                                default:
                                    throw new Error("CSVDataError: Unknown state [Row:" + a.state.rowNum + "]")
                            }
                        }), "" !== i && m(), o
                    }

                    function m() {
                        if (n = 0, a.start && a.state.rowNum < a.start) return i = "", void a.state.rowNum++;
                        if (void 0 === a.onParseEntry) o.push(i);
                        else {
                            var r = a.onParseEntry(i, a.state);
                            !1 !== r && o.push(r)
                        }
                        i = "", a.end && a.state.rowNum >= a.end && (l = !0), a.state.rowNum++
                    }
                },
                parseEntry: function(r, e) {
                    var a = e.separator,
                        t = e.delimiter;
                    e.state.rowNum || (e.state.rowNum = 1), e.state.colNum || (e.state.colNum = 1);
                    var s = [],
                        o = 0,
                        n = "";

                    function i() {
                        if (void 0 === e.onParseValue) s.push(n);
                        else {
                            var r = e.onParseValue(n, e.state);
                            !1 !== r && s.push(r)
                        }
                        n = "", o = 0, e.state.colNum++
                    }
                    if (!e.match) {
                        var l = RegExp.escape(a),
                            c = RegExp.escape(t),
                            u = /(D|S|\n|\r|[^DS\r\n]+)/.source;
                        u = (u = u.replace(/S/g, l)).replace(/D/g, c), e.match = new RegExp(u, "gm")
                    }
                    return r.replace(e.match, function(r) {
                        switch (o) {
                            case 0:
                                if (r === a) {
                                    n += "", i();
                                    break
                                }
                                if (r === t) {
                                    o = 1;
                                    break
                                }
                                if ("\n" === r || "\r" === r) break;
                                n += r, o = 3;
                                break;
                            case 1:
                                if (r === t) {
                                    o = 2;
                                    break
                                }
                                n += r, o = 1;
                                break;
                            case 2:
                                if (r === t) {
                                    n += r, o = 1;
                                    break
                                }
                                if (r === a) {
                                    i();
                                    break
                                }
                                if ("\n" === r || "\r" === r) break;
                                throw new Error("CSVDataError: Illegal State [Row:" + e.state.rowNum + "][Col:" + e.state.colNum + "]");
                            case 3:
                                if (r === a) {
                                    i();
                                    break
                                }
                                if ("\n" === r || "\r" === r) break;
                                if (r === t) throw new Error("CSVDataError: Illegal Quote [Row:" + e.state.rowNum + "][Col:" + e.state.colNum + "]");
                                throw new Error("CSVDataError: Illegal Data [Row:" + e.state.rowNum + "][Col:" + e.state.colNum + "]");
                            default:
                                throw new Error("CSVDataError: Unknown State [Row:" + e.state.rowNum + "][Col:" + e.state.colNum + "]")
                        }
                    }), i(), s
                }
            },
            helpers: {
                collectPropertyNames: function(r) {
                    var e = [],
                        a = [],
                        t = [];
                    for (e in r)
                        for (a in r[e]) r[e].hasOwnProperty(a) && t.indexOf(a) < 0 && "function" != typeof r[e][a] && t.push(a);
                    return t
                }
            },
            toArray: function(e, a, t) {
                a = void 0 !== a ? a : {};
                var s = {};
                s.callback = void 0 !== t && "function" == typeof t && t, s.separator = "separator" in a ? a.separator : r.csv.defaults.separator, s.delimiter = "delimiter" in a ? a.delimiter : r.csv.defaults.delimiter;
                var o = void 0 !== a.state ? a.state : {};
                a = {
                    delimiter: s.delimiter,
                    separator: s.separator,
                    onParseEntry: a.onParseEntry,
                    onParseValue: a.onParseValue,
                    state: o
                };
                var n = r.csv.parsers.parseEntry(e, a);
                if (!s.callback) return n;
                s.callback("", n)
            },
            toArrays: function(e, a, t) {
                a = void 0 !== a ? a : {};
                var s = {};
                s.callback = void 0 !== t && "function" == typeof t && t, s.separator = "separator" in a ? a.separator : r.csv.defaults.separator, s.delimiter = "delimiter" in a ? a.delimiter : r.csv.defaults.delimiter;
                var o;
                if (void 0 !== (a = {
                        delimiter: s.delimiter,
                        separator: s.separator,
                        onPreParse: a.onPreParse,
                        onParseEntry: a.onParseEntry,
                        onParseValue: a.onParseValue,
                        onPostParse: a.onPostParse,
                        start: a.start,
                        end: a.end,
                        state: {
                            rowNum: 1,
                            colNum: 1
                        }
                    }).onPreParse && a.onPreParse(e, a.state), o = r.csv.parsers.parse(e, a), void 0 !== a.onPostParse && a.onPostParse(o, a.state), !s.callback) return o;
                s.callback("", o)
            },
            toObjects: function(e, a, t) {
                a = void 0 !== a ? a : {};
                var s = {};
                s.callback = void 0 !== t && "function" == typeof t && t, s.separator = "separator" in a ? a.separator : r.csv.defaults.separator, s.delimiter = "delimiter" in a ? a.delimiter : r.csv.defaults.delimiter, s.headers = "headers" in a ? a.headers : r.csv.defaults.headers, a.start = "start" in a ? a.start : 1, s.headers && a.start++, a.end && s.headers && a.end++;
                var o, n = [];
                a = {
                    delimiter: s.delimiter,
                    separator: s.separator,
                    onPreParse: a.onPreParse,
                    onParseEntry: a.onParseEntry,
                    onParseValue: a.onParseValue,
                    onPostParse: a.onPostParse,
                    start: a.start,
                    end: a.end,
                    state: {
                        rowNum: 1,
                        colNum: 1
                    },
                    match: !1,
                    transform: a.transform
                };
                var i = {
                    delimiter: s.delimiter,
                    separator: s.separator,
                    start: 1,
                    end: 1,
                    state: {
                        rowNum: 1,
                        colNum: 1
                    }
                };
                void 0 !== a.onPreParse && a.onPreParse(e, a.state);
                var l = r.csv.parsers.splitLines(e, i),
                    c = r.csv.toArray(l[0], a);
                o = r.csv.parsers.splitLines(e, a), a.state.colNum = 1, a.state.rowNum = c ? 2 : 1;
                for (var u = 0, f = o.length; u < f; u++) {
                    for (var d = r.csv.toArray(o[u], a), m = {}, p = 0; p < c.length; p++) m[c[p]] = d[p];
                    void 0 !== a.transform ? n.push(a.transform.call(void 0, m)) : n.push(m), a.state.rowNum++
                }
                if (void 0 !== a.onPostParse && a.onPostParse(n, a.state), !s.callback) return n;
                s.callback("", n)
            },
            fromArrays: function(e, a, t) {
                a = void 0 !== a ? a : {};
                var s = {};
                s.callback = void 0 !== t && "function" == typeof t && t, s.separator = "separator" in a ? a.separator : r.csv.defaults.separator, s.delimiter = "delimiter" in a ? a.delimiter : r.csv.defaults.delimiter;
                var o, n, i, l, c = "";
                for (i = 0; i < e.length; i++) {
                    for (o = e[i], n = [], l = 0; l < o.length; l++) {
                        var u = void 0 === o[l] || null === o[l] ? "" : o[l].toString();
                        u.indexOf(s.delimiter) > -1 && (u = u.replace(new RegExp(s.delimiter, "g"), s.delimiter + s.delimiter));
                        var f = "\n|\r|S|D";
                        f = (f = f.replace("S", s.separator)).replace("D", s.delimiter), u.search(f) > -1 && (u = s.delimiter + u + s.delimiter), n.push(u)
                    }
                    c += n.join(s.separator) + "\r\n"
                }
                if (!s.callback) return c;
                s.callback("", c)
            },
            fromObjects: function(e, a, t) {
                a = void 0 !== a ? a : {};
                var s = {};
                if (s.callback = void 0 !== t && "function" == typeof t && t, s.separator = "separator" in a ? a.separator : r.csv.defaults.separator, s.delimiter = "delimiter" in a ? a.delimiter : r.csv.defaults.delimiter, s.headers = "headers" in a ? a.headers : r.csv.defaults.headers, s.sortOrder = "sortOrder" in a ? a.sortOrder : "declare", s.manualOrder = "manualOrder" in a ? a.manualOrder : [], s.transform = a.transform, "string" == typeof s.manualOrder && (s.manualOrder = r.csv.toArray(s.manualOrder, s)), void 0 !== s.transform) {
                    var o, n = e;
                    for (e = [], o = 0; o < n.length; o++) e.push(s.transform.call(void 0, n[o]))
                }
                var i = r.csv.helpers.collectPropertyNames(e);
                if ("alpha" === s.sortOrder && i.sort(), s.manualOrder.length > 0) {
                    var l = [].concat(s.manualOrder);
                    for (u = 0; u < i.length; u++) l.indexOf(i[u]) < 0 && l.push(i[u]);
                    i = l
                }
                var c, u, f, d, m = [];
                for (s.headers && m.push(i), c = 0; c < e.length; c++) {
                    for (f = [], u = 0; u < i.length; u++)(d = i[u]) in e[c] && "function" != typeof e[c][d] ? f.push(e[c][d]) : f.push("");
                    m.push(f)
                }
                return r.csv.fromArrays(m, a, s.callback)
            }
        }, r.csvEntry2Array = r.csv.toArray, r.csv2Array = r.csv.toArrays, r.csv2Dictionary = r.csv.toObjects, "undefined" != typeof module && module.exports && (module.exports = r.csv)
    }.call(this);


</script>
</body>

</html>
